{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/vanshbothra/Documents/project/marketplace/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n    React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n    React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n    <AlertDialogPrimitive.Overlay\n        className={cn(\n            \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n            className\n        )}\n        {...props}\n        ref={ref}\n    />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n    React.ElementRef<typeof AlertDialogPrimitive.Content>,\n    React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n    <AlertDialogPortal>\n        <AlertDialogOverlay />\n        <AlertDialogPrimitive.Content\n            ref={ref}\n            className={cn(\n                \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n                className\n            )}\n            {...props}\n        />\n    </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n    className,\n    ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n    <div\n        className={cn(\n            \"flex flex-col space-y-2 text-center sm:text-left\",\n            className\n        )}\n        {...props}\n    />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n    className,\n    ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n    <div\n        className={cn(\n            \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n            className\n        )}\n        {...props}\n    />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n    React.ElementRef<typeof AlertDialogPrimitive.Title>,\n    React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n    <AlertDialogPrimitive.Title\n        ref={ref}\n        className={cn(\"text-lg font-semibold\", className)}\n        {...props}\n    />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n    React.ElementRef<typeof AlertDialogPrimitive.Description>,\n    React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n    <AlertDialogPrimitive.Description\n        ref={ref}\n        className={cn(\"text-sm text-muted-foreground\", className)}\n        {...props}\n    />\n))\nAlertDialogDescription.displayName =\n    AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n    React.ElementRef<typeof AlertDialogPrimitive.Action>,\n    React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n    <AlertDialogPrimitive.Action\n        ref={ref}\n        className={cn(buttonVariants(), className)}\n        {...props}\n    />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n    React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n    React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n    <AlertDialogPrimitive.Cancel\n        ref={ref}\n        className={cn(\n            buttonVariants({ variant: \"outline\" }),\n            \"mt-2 sm:mt-0\",\n            className\n        )}\n        {...props}\n    />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n    AlertDialog,\n    AlertDialogPortal,\n    AlertDialogOverlay,\n    AlertDialogTrigger,\n    AlertDialogContent,\n    AlertDialogHeader,\n    AlertDialogFooter,\n    AlertDialogTitle,\n    AlertDialogDescription,\n    AlertDialogAction,\n    AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AAEA;AACA;AANA;;;;;;AAQA,MAAM,cAAc,mLAAyB;AAE7C,MAAM,qBAAqB,sLAA4B;AAEvD,MAAM,oBAAoB,qLAA2B;AAErD,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,sLAA4B;QACzB,WAAW,IAAA,yHAAE,EACT,0JACA;QAEH,GAAG,KAAK;QACT,KAAK;;;;;;AAGb,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;;0BACG,8OAAC;;;;;0BACD,8OAAC,sLAA4B;gBACzB,KAAK;gBACL,WAAW,IAAA,yHAAE,EACT,+fACA;gBAEH,GAAG,KAAK;;;;;;;;;;;;AAIrB,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACvB,SAAS,EACT,GAAG,OACgC,iBACnC,8OAAC;QACG,WAAW,IAAA,yHAAE,EACT,oDACA;QAEH,GAAG,KAAK;;;;;;AAGjB,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACvB,SAAS,EACT,GAAG,OACgC,iBACnC,8OAAC;QACG,WAAW,IAAA,yHAAE,EACT,iEACA;QAEH,GAAG,KAAK;;;;;;AAGjB,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,oLAA0B;QACvB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGjB,iBAAiB,WAAW,GAAG,oLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,0LAAgC;QAC7B,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGjB,uBAAuB,WAAW,GAC9B,0LAAgC,CAAC,WAAW;AAEhD,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,qLAA2B;QACxB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,IAAA,oJAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGjB,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,qLAA2B;QACxB,KAAK;QACL,WAAW,IAAA,yHAAE,EACT,IAAA,oJAAc,EAAC;YAAE,SAAS;QAAU,IACpC,gBACA;QAEH,GAAG,KAAK;;;;;;AAGjB,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///Users/vanshbothra/Documents/project/marketplace/src/components/delete-listing-button.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Trash2 } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n    AlertDialog,\n    AlertDialogAction,\n    AlertDialogCancel,\n    AlertDialogContent,\n    AlertDialogDescription,\n    AlertDialogFooter,\n    AlertDialogHeader,\n    AlertDialogTitle,\n    AlertDialogTrigger,\n} from \"@/components/ui/alert-dialog\";\n\ninterface DeleteListingButtonProps {\n    listingId: string;\n    listingName: string;\n    vendorId: string;\n}\n\nexport function DeleteListingButton({ listingId, listingName, vendorId }: DeleteListingButtonProps) {\n    const [isDeleting, setIsDeleting] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n    const router = useRouter();\n\n    const handleDelete = async () => {\n        setIsDeleting(true);\n        setError(null);\n\n        try {\n            const apiUrl = process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:4000';\n            const response = await fetch(`${apiUrl}/vendors/${vendorId}/listings/${listingId}`, {\n                method: 'DELETE',\n                credentials: 'include',\n            });\n\n            const data = await response.json();\n\n            if (!response.ok || !data.success) {\n                throw new Error(data.message || 'Failed to delete listing');\n            }\n\n            // Refresh the page to show updated listings\n            router.refresh();\n        } catch (err: any) {\n            console.error('Error deleting listing:', err);\n            setError(err.message || 'Failed to delete listing');\n        } finally {\n            setIsDeleting(false);\n        }\n    };\n\n    return (\n        <AlertDialog>\n            <AlertDialogTrigger asChild>\n                <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8 text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 cursor-pointer\"\n                    onClick={(e) => e.stopPropagation()} // Prevent navigation when clicking delete\n                    disabled={isDeleting}\n                >\n                    {isDeleting ? (\n                        <div className=\"h-4 w-4 animate-spin rounded-full border-2 border-red-500 border-t-transparent\" />\n                    ) : (\n                        <Trash2 className=\"h-4 w-4\" />\n                    )}\n                </Button>\n            </AlertDialogTrigger>\n            <AlertDialogContent className=\"border-0\">\n                <AlertDialogHeader>\n                    <AlertDialogTitle>Delete Listing</AlertDialogTitle>\n                    <AlertDialogDescription>\n                        Are you sure you want to delete \"{listingName}\"? This action cannot be undone.\n                        All orders and reviews associated with this listing will also be deleted.\n                    </AlertDialogDescription>\n                </AlertDialogHeader>\n                {error && (\n                    <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-3\">\n                        <p className=\"text-sm text-red-600 dark:text-red-400\">{error}</p>\n                    </div>\n                )}\n                <AlertDialogFooter>\n                    <AlertDialogCancel className=\"rounded-xl\">Cancel</AlertDialogCancel>\n                    <AlertDialogAction\n                        onClick={handleDelete}\n                        disabled={isDeleting}\n                        className=\"rounded-xl bg-red-500 hover:bg-red-600 text-white\"\n                    >\n                        {isDeleting ? 'Deleting...' : 'Delete'}\n                    </AlertDialogAction>\n                </AlertDialogFooter>\n            </AlertDialogContent>\n        </AlertDialog>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAwBO,SAAS,oBAAoB,EAAE,SAAS,EAAE,WAAW,EAAE,QAAQ,EAA4B;IAC9F,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,eAAe;QACjB,cAAc;QACd,SAAS;QAET,IAAI;YACA,MAAM,SAAS,8EAAuC;YACtD,MAAM,WAAW,MAAM,MAAM,GAAG,OAAO,SAAS,EAAE,SAAS,UAAU,EAAE,WAAW,EAAE;gBAChF,QAAQ;gBACR,aAAa;YACjB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,OAAO,EAAE;gBAC/B,MAAM,IAAI,MAAM,KAAK,OAAO,IAAI;YACpC;YAEA,4CAA4C;YAC5C,OAAO,OAAO;QAClB,EAAE,OAAO,KAAU;YACf,QAAQ,KAAK,CAAC,2BAA2B;YACzC,SAAS,IAAI,OAAO,IAAI;QAC5B,SAAU;YACN,cAAc;QAClB;IACJ;IAEA,qBACI,8OAAC,0JAAW;;0BACR,8OAAC,iKAAkB;gBAAC,OAAO;0BACvB,cAAA,8OAAC,4IAAM;oBACH,SAAQ;oBACR,MAAK;oBACL,WAAU;oBACV,SAAS,CAAC,IAAM,EAAE,eAAe;oBACjC,UAAU;8BAET,2BACG,8OAAC;wBAAI,WAAU;;;;;6CAEf,8OAAC,oNAAM;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAI9B,8OAAC,iKAAkB;gBAAC,WAAU;;kCAC1B,8OAAC,gKAAiB;;0CACd,8OAAC,+JAAgB;0CAAC;;;;;;0CAClB,8OAAC,qKAAsB;;oCAAC;oCACc;oCAAY;;;;;;;;;;;;;oBAIrD,uBACG,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAE,WAAU;sCAA0C;;;;;;;;;;;kCAG/D,8OAAC,gKAAiB;;0CACd,8OAAC,gKAAiB;gCAAC,WAAU;0CAAa;;;;;;0CAC1C,8OAAC,gKAAiB;gCACd,SAAS;gCACT,UAAU;gCACV,WAAU;0CAET,aAAa,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;AAMtD"}}]
}