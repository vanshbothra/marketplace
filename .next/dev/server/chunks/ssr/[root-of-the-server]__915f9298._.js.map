{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimkhalil/Desktop/projects/marketplace/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,4MAAO,EAAC,IAAA,mLAAI,EAAC;AACtB"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimkhalil/Desktop/projects/marketplace/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,6MAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,8MAAI,GAAG;IAE9B,qBACE,oRAAC;QACC,aAAU;QACV,WAAW,IAAA,+JAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimkhalil/Desktop/projects/marketplace/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,6MAAG,EACvB,oZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,8MAAI,GAAG;IAE9B,qBACE,oRAAC;QACC,aAAU;QACV,WAAW,IAAA,+JAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimkhalil/Desktop/projects/marketplace/src/components/ui/avatar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Avatar = registerClientReference(\n    function() { throw new Error(\"Attempted to call Avatar() from the server but Avatar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/projects/marketplace/src/components/ui/avatar.tsx <module evaluation>\",\n    \"Avatar\",\n);\nexport const AvatarFallback = registerClientReference(\n    function() { throw new Error(\"Attempted to call AvatarFallback() from the server but AvatarFallback is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/projects/marketplace/src/components/ui/avatar.tsx <module evaluation>\",\n    \"AvatarFallback\",\n);\nexport const AvatarImage = registerClientReference(\n    function() { throw new Error(\"Attempted to call AvatarImage() from the server but AvatarImage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/projects/marketplace/src/components/ui/avatar.tsx <module evaluation>\",\n    \"AvatarImage\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;AACvE;;AACO,MAAM,SAAS,IAAA,8SAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,2FACA;AAEG,MAAM,iBAAiB,IAAA,8SAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,2FACA;AAEG,MAAM,cAAc,IAAA,8SAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,2FACA","ignoreList":[0]}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimkhalil/Desktop/projects/marketplace/src/components/ui/avatar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Avatar = registerClientReference(\n    function() { throw new Error(\"Attempted to call Avatar() from the server but Avatar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/projects/marketplace/src/components/ui/avatar.tsx\",\n    \"Avatar\",\n);\nexport const AvatarFallback = registerClientReference(\n    function() { throw new Error(\"Attempted to call AvatarFallback() from the server but AvatarFallback is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/projects/marketplace/src/components/ui/avatar.tsx\",\n    \"AvatarFallback\",\n);\nexport const AvatarImage = registerClientReference(\n    function() { throw new Error(\"Attempted to call AvatarImage() from the server but AvatarImage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/projects/marketplace/src/components/ui/avatar.tsx\",\n    \"AvatarImage\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;AACvE;;AACO,MAAM,SAAS,IAAA,8SAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,uEACA;AAEG,MAAM,iBAAiB,IAAA,8SAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,uEACA;AAEG,MAAM,cAAc,IAAA,8SAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,uEACA","ignoreList":[0]}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimkhalil/Desktop/projects/marketplace/src/components/wishlist-button.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WishlistButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call WishlistButton() from the server but WishlistButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/projects/marketplace/src/components/wishlist-button.tsx <module evaluation>\",\n    \"WishlistButton\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,iBAAiB,IAAA,8SAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,iGACA","ignoreList":[0]}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimkhalil/Desktop/projects/marketplace/src/components/wishlist-button.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WishlistButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call WishlistButton() from the server but WishlistButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/projects/marketplace/src/components/wishlist-button.tsx\",\n    \"WishlistButton\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,iBAAiB,IAAA,8SAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,6EACA","ignoreList":[0]}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimkhalil/Desktop/projects/marketplace/src/components/order-modal.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const OrderModal = registerClientReference(\n    function() { throw new Error(\"Attempted to call OrderModal() from the server but OrderModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/projects/marketplace/src/components/order-modal.tsx <module evaluation>\",\n    \"OrderModal\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,8SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,6FACA","ignoreList":[0]}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimkhalil/Desktop/projects/marketplace/src/components/order-modal.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const OrderModal = registerClientReference(\n    function() { throw new Error(\"Attempted to call OrderModal() from the server but OrderModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/projects/marketplace/src/components/order-modal.tsx\",\n    \"OrderModal\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,8SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,yEACA","ignoreList":[0]}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahimkhalil/Desktop/projects/marketplace/src/app/marketplace/%5Bid%5D/page.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport Link from \"next/link\";\nimport { Store, ArrowLeft, Star, Mail, Phone, Edit } from \"lucide-react\";\nimport { UserNav } from \"@/components/user-nav\";\nimport { WishlistButton } from \"@/components/wishlist-button\";\nimport { OrderModal } from \"@/components/order-modal\";\nimport Image from \"next/image\";\nimport { notFound } from \"next/navigation\";\nimport { cookies } from \"next/headers\";\n\nconst BACKEND_URL = process.env.BACKEND_URL || 'http://localhost:4000';\n\nexport default async function ListingDetailPage({\n    params,\n}: {\n    params: Promise<{ id: string }>;\n}) {\n    const { id } = await params;\n\n    // Get cookies to pass to backend\n    const cookieStore = await cookies();\n    const cookieHeader = cookieStore.toString();\n\n    // Fetch listing from backend API\n    let listing;\n    try {\n        const response = await fetch(`${BACKEND_URL}/listings/${id}`, {\n            cache: 'no-store',\n            headers: {\n                'Cookie': cookieHeader,\n            },\n        });\n\n        if (!response.ok) {\n            console.error(`Failed to fetch listing: ${response.status} ${response.statusText}`);\n            notFound();\n        }\n\n        const data = await response.json();\n        if (!data.success || !data.data) {\n            console.error('Invalid response from backend:', data);\n            notFound();\n        }\n\n        listing = data.data;\n    } catch (error) {\n        console.error('Error fetching listing:', error);\n        if (error instanceof TypeError && error.message.includes('fetch')) {\n            console.error('Backend server may not be running at:', BACKEND_URL);\n        }\n        notFound();\n    }\n\n    // Check if current user is owner/member by trying to access the vendor\n    let isOwnerOrMember = false;\n    try {\n        const vendorResponse = await fetch(`${BACKEND_URL}/vendors/me/${listing.vendorId}`, {\n            cache: 'no-store',\n            headers: {\n                'Cookie': cookieHeader,\n            },\n        });\n\n        if (vendorResponse.ok) {\n            const vendorData = await vendorResponse.json();\n            isOwnerOrMember = vendorData.success && vendorData.data;\n        }\n    } catch (error) {\n        // User is not owner/member, that's fine\n        isOwnerOrMember = false;\n    }\n\n    const avgRating =\n        listing.reviews && listing.reviews.length > 0\n            ? listing.reviews.reduce((sum: number, r: any) => sum + r.rating, 0) / listing.reviews.length\n            : 0;\n\n    return (\n        <div className=\"min-h-screen bg-gradient-soft\">\n\n            {/* Main Content */}\n            <main className=\"container mx-auto px-4 sm:px-6 py-8 sm:py-12\">\n                <Button asChild variant=\"ghost\" className=\"mb-6 sm:mb-8 rounded-2xl\">\n                    <Link href=\"/marketplace\">\n                        <ArrowLeft className=\"mr-2 h-4 w-4\" />\n                        Back to Marketplace\n                    </Link>\n                </Button>\n\n                {/* Listing Details */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                    {/* Main Content */}\n                    <div className=\"lg:col-span-2 space-y-8\">\n                        {/* Images */}\n                        {listing.images && listing.images.length > 0 && (\n                            <div className=\"glass-card rounded-3xl overflow-hidden shadow-soft border-0\">\n                                <div className=\"aspect-video relative bg-linear-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900\">\n                                    <Image\n                                        src={listing.images[0]}\n                                        alt={listing.name}\n                                        fill\n                                        className=\"object-cover\"\n                                    />\n                                </div>\n                            </div>\n                        )}\n\n                        {/* Listing Info */}\n                        <div className=\"glass-card rounded-3xl p-8 shadow-soft border-0\">\n                            <div className=\"flex items-start justify-between mb-4\">\n                                <div className=\"flex-1\">\n                                    <h2 className=\"text-4xl font-light mb-4 text-foreground\">{listing.name}</h2>\n                                    <div className=\"flex flex-wrap items-center gap-2 mb-4\">\n                                        <Badge variant=\"outline\" className=\"rounded-full\">\n                                            {listing.type}\n                                        </Badge>\n                                        <Badge variant=\"outline\" className=\"rounded-full\">\n                                            {listing.inventoryType}\n                                        </Badge>\n                                        {listing.tags && listing.tags.map((tag: any) => (\n                                            <Badge key={tag.id} variant=\"secondary\" className=\"rounded-full\">\n                                                {tag.name}\n                                            </Badge>\n                                        ))}\n                                    </div>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                    <WishlistButton listingId={listing.id} />\n                                    {isOwnerOrMember && (\n                                        <Button asChild variant=\"outline\" className=\"rounded-2xl\">\n                                            <Link href={`/listings/${listing.id}/edit`}>\n                                                <Edit className=\"mr-2 h-4 w-4\" />\n                                                Edit\n                                            </Link>\n                                        </Button>\n                                    )}\n                                </div>\n                            </div>\n\n                            {listing.price !== null && listing.price !== undefined && (\n                                <p className=\"text-4xl font-light text-foreground mb-6\">â‚¹{listing.price}</p>\n                            )}\n\n                            <p className=\"text-muted-foreground mb-6\">{listing.description}</p>\n\n                            {listing.variants && listing.variants.length > 0 && (\n                                <div className=\"mb-6\">\n                                    <h3 className=\"text-sm font-semibold mb-2 text-foreground\">Variants</h3>\n                                    <div className=\"flex flex-wrap gap-2\">\n                                        {listing.variants.map((variant: string, idx: number) => (\n                                            <Badge key={idx} variant=\"outline\" className=\"rounded-full\">\n                                                {variant}\n                                            </Badge>\n                                        ))}\n                                    </div>\n                                </div>\n                            )}\n\n                            {listing.availableQty !== null && listing.availableQty !== undefined && (\n                                <p className=\"text-sm text-muted-foreground\">\n                                    {listing.availableQty > 0 ? `${listing.availableQty} available` : 'Out of stock'}\n                                </p>\n                            )}\n\n                            {/* Conditional Action Buttons based on managed field */}\n                            {listing.managed ? (\n                                // Managed listing - show order button\n                                listing.price !== null && listing.price !== undefined ? (\n                                    <OrderModal listing={{\n                                        id: listing.id,\n                                        name: listing.name,\n                                        price: parseFloat(listing.price.toString()),\n                                        availableQty: listing.availableQty || undefined,\n                                        vendor: {\n                                            id: listing.vendor.id,\n                                            name: listing.vendor.name,\n                                            upiId: listing.vendor.upiId || undefined,\n                                        }\n                                    }}>\n                                        <Button className=\"w-full mt-6 rounded-2xl bg-black hover:bg-gray-900 text-white\">\n                                            Place Order\n                                        </Button>\n                                    </OrderModal>\n                                ) : (\n                                    <div className=\"mt-6 space-y-2\">\n                                        <p className=\"text-sm text-muted-foreground\">Contact vendor for pricing</p>\n                                        <Button variant=\"outline\" className=\"w-full rounded-2xl\">\n                                            Contact Vendor\n                                        </Button>\n                                    </div>\n                                )\n                            ) : (\n                                // Non-managed listing - show contact button\n                                <div className=\"mt-6 space-y-3\">\n                                    <p className=\"text-sm text-muted-foreground\">\n                                        Contact the vendor directly to purchase this item\n                                    </p>\n                                    <Button variant=\"outline\" className=\"w-full rounded-2xl\">\n                                        Contact Vendor\n                                    </Button>\n                                </div>\n                            )}\n                        </div>\n\n                        {/* Reviews */}\n                        {listing.reviews && listing.reviews.length > 0 && (\n                            <div className=\"glass-card rounded-3xl p-8 shadow-soft border-0\">\n                                <div className=\"flex items-center justify-between mb-6\">\n                                    <h3 className=\"text-2xl font-light text-foreground\">Reviews</h3>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Star className=\"h-5 w-5 fill-yellow-400 text-yellow-400\" />\n                                        <span className=\"text-lg font-medium text-foreground\">\n                                            {avgRating.toFixed(1)}\n                                        </span>\n                                        <span className=\"text-sm text-muted-foreground\">\n                                            ({listing.reviews.length} {listing.reviews.length === 1 ? 'review' : 'reviews'})\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div className=\"space-y-6\">\n                                    {listing.reviews.map((review: any) => (\n                                        <div key={review.id} className=\"border-b border-white/10 last:border-0 pb-6 last:pb-0\">\n                                            <div className=\"flex items-start gap-4\">\n                                                <Avatar>\n                                                    <AvatarImage src={review.user?.imageUrl} />\n                                                    <AvatarFallback>{review.user?.name?.charAt(0) || 'U'}</AvatarFallback>\n                                                </Avatar>\n                                                <div className=\"flex-1\">\n                                                    <div className=\"flex items-center justify-between mb-2\">\n                                                        <p className=\"font-medium text-foreground\">{review.user?.name || 'Anonymous'}</p>\n                                                        <div className=\"flex items-center gap-1\">\n                                                            {Array.from({ length: 5 }).map((_, i) => (\n                                                                <Star\n                                                                    key={i}\n                                                                    className={`h-4 w-4 ${i < review.rating\n                                                                        ? 'fill-yellow-400 text-yellow-400'\n                                                                        : 'text-gray-300 dark:text-gray-600'\n                                                                        }`}\n                                                                />\n                                                            ))}\n                                                        </div>\n                                                    </div>\n                                                    {review.comments && review.comments.length > 0 && (\n                                                        <div className=\"space-y-1\">\n                                                            {review.comments.map((comment: string, idx: number) => (\n                                                                <p key={idx} className=\"text-sm text-muted-foreground\">\n                                                                    {comment}\n                                                                </p>\n                                                            ))}\n                                                        </div>\n                                                    )}\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        )}\n                    </div>\n\n                    {/* Sidebar - Vendor Info */}\n                    <div className=\"lg:col-span-1\">\n                        <div className=\"glass-card rounded-3xl p-6 shadow-soft border-0 sticky top-24\">\n                            <h3 className=\"text-xl font-light mb-4 text-foreground\">Vendor Information</h3>\n\n                            <Link href={`/vendor/${listing.vendor?.id}`} className=\"block mb-6 group\">\n                                <div className=\"flex items-center gap-3\">\n                                    <div className=\"w-12 h-12 bg-linear-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-xl overflow-hidden relative flex items-center justify-center\">\n                                        {listing.vendor?.logo ? (\n                                            <Image src={listing.vendor.logo} alt={listing.vendor.name} fill className=\"object-cover\" />\n                                        ) : (\n                                            <Store className=\"h-6 w-6 text-muted-foreground\" />\n                                        )}\n                                    </div>\n                                    <div>\n                                        <p className=\"font-medium text-foreground group-hover:text-primary transition-colors\">\n                                            {listing.vendor?.name}\n                                        </p>\n                                        <p className=\"text-xs text-muted-foreground\">View vendor profile</p>\n                                    </div>\n                                </div>\n                            </Link>\n\n                            <div className=\"space-y-3\">\n                                {listing.vendor?.contactEmail && (\n                                    <div className=\"flex items-center gap-3 text-sm\">\n                                        <Mail className=\"h-4 w-4 text-muted-foreground\" />\n                                        <a\n                                            href={`mailto:${listing.vendor.contactEmail}`}\n                                            className=\"text-muted-foreground hover:text-foreground transition-colors\"\n                                        >\n                                            {listing.vendor.contactEmail}\n                                        </a>\n                                    </div>\n                                )}\n\n                                {listing.vendor?.contactPhone && (\n                                    <div className=\"flex items-center gap-3 text-sm\">\n                                        <Phone className=\"h-4 w-4 text-muted-foreground\" />\n                                        <a\n                                            href={`tel:${listing.vendor.contactPhone}`}\n                                            className=\"text-muted-foreground hover:text-foreground transition-colors\"\n                                        >\n                                            {listing.vendor.contactPhone}\n                                        </a>\n                                    </div>\n                                )}\n                            </div>\n\n                            {isOwnerOrMember && (\n                                <div className=\"mt-6 pt-6 border-t border-white/10\">\n                                    <Button asChild variant=\"outline\" className=\"w-full rounded-2xl\">\n                                        <Link href={`/listings/${listing.id}/orders`}>\n                                            View Orders\n                                        </Link>\n                                    </Button>\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </main>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}