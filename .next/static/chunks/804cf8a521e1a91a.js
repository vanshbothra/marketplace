(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,24687,e=>{"use strict";var t=e.i(43476),a=e.i(75157);function s({className:e,...s}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}e.s(["Textarea",()=>s])},93479,e=>{"use strict";var t=e.i(43476),a=e.i(75157);function s({className:e,type:s,...r}){return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>s])},18566,(e,t,a)=>{t.exports=e.r(76562)},10204,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(48425),r=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var i=e.i(75157);function n({className:e,...a}){return(0,t.jsx)(r,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>n],10204)},61501,e=>{"use strict";e.i(47167);var t=e.i(43476),a=e.i(19455);let s=(0,e.i(75254).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);var r=e.i(71645);let i="https://ashokamarketplace.tech/backend";function n({listingId:e,className:n="",size:l="icon",variant:o="ghost"}){let[d,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{x();let e=()=>{x()};return window.addEventListener("wishlistUpdated",e),()=>window.removeEventListener("wishlistUpdated",e)},[e]);let x=async()=>{try{let t=await fetch(`${i}/wishlist/me`,{credentials:"include"});if(t.ok){let a=await t.json();if(a.success&&a.data&&a.data.data){let t=a.data.data.some(t=>t.id===e);c(t)}}}catch(e){console.error("Error checking wishlist status:",e)}},h=async t=>{t.preventDefault(),t.stopPropagation(),m(!0);try{d?(await fetch(`${i}/wishlist/${e}`,{method:"DELETE",credentials:"include"})).ok&&(c(!1),window.dispatchEvent(new CustomEvent("wishlistUpdated"))):(await fetch(`${i}/wishlist/${e}`,{method:"POST",credentials:"include"})).ok&&(c(!0),window.dispatchEvent(new CustomEvent("wishlistUpdated")))}catch(e){console.error("Error toggling wishlist:",e)}finally{m(!1)}};return(0,t.jsx)(a.Button,{variant:o,size:l,onClick:h,disabled:u,className:`rounded-full transition-all ${n}`,title:d?"Remove from wishlist":"Add to wishlist",children:(0,t.jsx)(s,{className:`h-5 w-5 transition-all ${d?"fill-red-500 text-red-500":"text-muted-foreground hover:text-red-500"}`})})}e.s(["WishlistButton",()=>n],61501)},73375,63059,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],73375);var a=e.i(46349);e.s(["ChevronRight",()=>a.default],63059)},76639,e=>{"use strict";var t=e.i(43476),a=e.i(26999),s=e.i(95926),r=e.i(75157);function i({...e}){return(0,t.jsx)(a.Root,{"data-slot":"dialog",...e})}function n({...e}){return(0,t.jsx)(a.Trigger,{"data-slot":"dialog-trigger",...e})}function l({...e}){return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...e})}function o({className:e,...s}){return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function d({className:e,children:i,showCloseButton:n=!0,...d}){return(0,t.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,t.jsx)(o,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...d,children:[i,n&&(0,t.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(s.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function u({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function m({className:e,...s}){return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",e),...s})}function x({className:e,...s}){return(0,t.jsx)(a.Description,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...s})}e.s(["Dialog",()=>i,"DialogContent",()=>d,"DialogDescription",()=>x,"DialogFooter",()=>u,"DialogHeader",()=>c,"DialogTitle",()=>m,"DialogTrigger",()=>n])},68178,e=>{"use strict";e.i(47167);var t=e.i(43476),a=e.i(71645),s=e.i(19455),r=e.i(93479),i=e.i(10204),n=e.i(24687),l=e.i(76639);let o=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var d=e.i(18566);function c({listing:e,children:c}){let u=(0,d.useRouter)(),[m,x]=(0,a.useState)(!1),[h,g]=(0,a.useState)(1),[p,f]=(0,a.useState)(""),[b,v]=(0,a.useState)(""),[j,y]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),k=e.price*h,C=e.availableQty||999,D=async t=>{t.preventDefault(),y(!0),N(null);try{let t=await fetch("https://ashokamarketplace.tech/backend/orders/me",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({listingId:e.id,quantity:h,totalPrice:k,transactionId:p||void 0,notes:b||void 0})}),a=await t.json();if(!t.ok||!a.success)throw Error(a.message||"Failed to place order");x(!1),u.push("/orders")}catch(e){console.error("Error placing order:",e),N(e.message||"Failed to place order")}finally{y(!1)}};return(0,t.jsxs)(l.Dialog,{open:m,onOpenChange:x,children:[(0,t.jsx)(l.DialogTrigger,{asChild:!0,children:c}),(0,t.jsxs)(l.DialogContent,{className:"sm:max-w-[500px] bg-gradient-soft",children:[(0,t.jsxs)(l.DialogHeader,{children:[(0,t.jsx)(l.DialogTitle,{className:"text-2xl font-light",children:"Place Order"}),(0,t.jsxs)(l.DialogDescription,{children:["Complete your order for ",e.name]})]}),(0,t.jsxs)("form",{onSubmit:D,className:"space-y-6 mt-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"quantity",children:"Quantity"}),(0,t.jsx)(r.Input,{id:"quantity",type:"number",min:"1",max:C,value:h,onChange:e=>g(Math.max(1,Math.min(C,parseInt(e.target.value)||1))),className:"rounded-xl",required:!0}),e.availableQty&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Maximum available: ",e.availableQty]})]}),(0,t.jsxs)("div",{className:"glass-card rounded-2xl p-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Price per unit:"}),(0,t.jsxs)("span",{className:"font-medium",children:["₹",e.price.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Quantity:"}),(0,t.jsx)("span",{className:"font-medium",children:h})]}),(0,t.jsxs)("div",{className:"border-t border-white/10 pt-2 flex justify-between",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Total Amount:"}),(0,t.jsxs)("span",{className:"text-xl font-light",children:["₹",k.toFixed(2)]})]})]}),e.vendor.upiId&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{children:"Payment via UPI"}),(0,t.jsxs)("div",{className:"glass-card rounded-2xl p-4 space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"UPI ID:"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground font-mono",children:e.vendor.upiId})]})}),(0,t.jsxs)(s.Button,{type:"button",variant:"outline",className:"w-full rounded-xl",onClick:()=>window.location.href=(()=>{if(!e.vendor.upiId)return"#";let t=e.vendor.upiId,a=encodeURIComponent(e.vendor.name),s=k.toFixed(2),r=encodeURIComponent(`Order: ${e.name}`);return`upi://pay?pa=${t}&pn=${a}&am=${s}&cu=INR&tn=${r}`})(),children:[(0,t.jsx)(o,{className:"mr-2 h-4 w-4"}),"Pay via UPI App"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Click to open your UPI app and complete the payment"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(i.Label,{htmlFor:"transactionId",children:["Transaction ID ",e.vendor.upiId&&"(Optional)"]}),(0,t.jsx)(r.Input,{id:"transactionId",value:p,onChange:e=>f(e.target.value),placeholder:"Enter UPI transaction ID",className:"rounded-xl",required:!0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter the transaction ID after completing payment"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"notes",children:"Notes (Optional)"}),(0,t.jsx)(n.Textarea,{id:"notes",value:b,onChange:e=>v(e.target.value),placeholder:"Any special instructions or requirements...",rows:3,className:"rounded-xl resize-none"})]}),w&&(0,t.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:(0,t.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:w})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(s.Button,{type:"button",variant:"outline",onClick:()=>x(!1),className:"flex-1 rounded-2xl",children:"Cancel"}),(0,t.jsx)(s.Button,{type:"submit",disabled:j,className:"flex-1 rounded-2xl bg-black hover:bg-gray-900 text-white",children:j?"Placing Order...":"Place Order"})]})]})]})]})}e.s(["OrderModal",()=>c],68178)},85939,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(19455),r=e.i(76639),i=e.i(10204),n=e.i(24687),l=e.i(70273),o=e.i(18566);function d({listingId:e,listingName:d,children:c}){let[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(0),[g,p]=(0,a.useState)(0),[f,b]=(0,a.useState)(""),[v,j]=(0,a.useState)(!1),[y,w]=(0,a.useState)(""),N=(0,o.useRouter)(),k=async t=>{if(t.preventDefault(),0===x)return void w("Please select a rating");j(!0),w("");try{let t=await fetch("https://ashokamarketplace.tech/backend/reviews",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({listingId:e,rating:x,comments:f.trim()||""})}),a=await t.json();if(!t.ok)throw Error(a.message||"Failed to submit review");h(0),b(""),m(!1),N.refresh()}catch(e){w(e.message||"Failed to submit review")}finally{j(!1)}};return(0,t.jsxs)(r.Dialog,{open:u,onOpenChange:m,children:[(0,t.jsx)(r.DialogTrigger,{asChild:!0,children:c}),(0,t.jsx)(r.DialogContent,{className:"sm:max-w-[500px] border-0",children:(0,t.jsxs)("form",{onSubmit:k,children:[(0,t.jsxs)(r.DialogHeader,{children:[(0,t.jsx)(r.DialogTitle,{className:"text-2xl font-light",children:"Write a Review"}),(0,t.jsxs)(r.DialogDescription,{className:"text-muted-foreground",children:["Share your experience with ",d]})]}),(0,t.jsxs)("div",{className:"space-y-6 py-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-sm font-medium",children:"Rating *"}),(0,t.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>h(e),onMouseEnter:()=>p(e),onMouseLeave:()=>p(0),className:"transition-transform hover:scale-110",children:(0,t.jsx)(l.Star,{className:`h-8 w-8 ${e<=(g||x)?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600"}`})},e))}),x>0&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[x," ",1===x?"star":"stars"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"comments",className:"text-sm font-medium",children:"Comments (Optional)"}),(0,t.jsx)(n.Textarea,{id:"comments",value:f,onChange:e=>b(e.target.value),placeholder:"Share your thoughts about this listing...",rows:4,maxLength:500,className:"rounded-xl border-border focus:border-ring resize-none"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[f.length,"/500 characters"]})]}),y&&(0,t.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-3",children:(0,t.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:y})})]}),(0,t.jsxs)(r.DialogFooter,{children:[(0,t.jsx)(s.Button,{type:"button",variant:"outline",onClick:()=>m(!1),disabled:v,className:"rounded-xl",children:"Cancel"}),(0,t.jsx)(s.Button,{type:"submit",disabled:v||0===x,className:"rounded-xl bg-black hover:bg-gray-900 text-white",children:v?"Submitting...":"Submit Review"})]})]})})]})}e.s(["ReviewModal",()=>d])},60289,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(57688),r=e.i(73375),i=e.i(63059),n=e.i(19455);function l({images:e,alt:l}){let[o,d]=(0,a.useState)(0);return e&&0!==e.length?(0,t.jsxs)("div",{className:"glass-card rounded-3xl overflow-hidden shadow-soft border-0",children:[(0,t.jsxs)("div",{className:"aspect-video relative bg-linear-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900",children:[(0,t.jsx)(s.default,{src:e[o],alt:`${l} - Image ${o+1}`,fill:!0,className:"object-cover",priority:0===o}),e.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>{d(t=>0===t?e.length-1:t-1)},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white rounded-full h-10 w-10",children:(0,t.jsx)(r.ChevronLeft,{className:"h-6 w-6"})}),(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>{d(t=>t===e.length-1?0:t+1)},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white rounded-full h-10 w-10",children:(0,t.jsx)(i.ChevronRight,{className:"h-6 w-6"})})]}),e.length>1&&(0,t.jsxs)("div",{className:"absolute top-4 right-4 bg-black/70 text-white text-sm px-3 py-1 rounded-full",children:[o+1," / ",e.length]})]}),e.length>1&&(0,t.jsx)("div",{className:"p-4 bg-white/5 border-t border-white/10",children:(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto",children:e.map((e,a)=>(0,t.jsx)("button",{onClick:()=>{d(a)},className:`relative shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${a===o?"border-black dark:border-white scale-105":"border-transparent hover:border-gray-300 dark:hover:border-gray-600"}`,children:(0,t.jsx)(s.default,{src:e,alt:`${l} thumbnail ${a+1}`,fill:!0,className:"object-cover"})},a))})})]}):null}e.s(["ImageSlideshow",()=>l])}]);