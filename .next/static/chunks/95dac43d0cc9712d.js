(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45757,e=>{"use strict";var t=e.i(9555),r=e.i(52646);function a({className:e,...a}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}e.s(["Textarea",()=>a])},53581,e=>{"use strict";var t=e.i(9555),r=e.i(65622),a=e.i(49595),s=r.forwardRef((e,r)=>(0,t.jsx)(a.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var o=e.i(52646);function n({className:e,...r}){return(0,t.jsx)(s,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>n],53581)},63320,e=>{"use strict";var t=e.i(9555),r=e.i(52646);function a({className:e,type:a,...s}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>a])},762,e=>{"use strict";let t=(0,e.i(21568).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],762)},46616,e=>{"use strict";let t=(0,e.i(21568).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>t],46616)},11215,e=>{"use strict";var t=e.i(9555),r=e.i(94671),a=e.i(63320),s=e.i(53581),o=e.i(45757),n=e.i(99143),i=e.i(762),d=e.i(46616),l=e.i(93401),c=e.i(46801),m=e.i(65622),u=e.i(99387);let x="http://localhost:4000";function p(){let e=(0,c.useRouter)(),[p,h]=(0,m.useState)(!1),[g,f]=(0,m.useState)(null),[b,v]=(0,m.useState)(""),[j,y]=(0,m.useState)(""),N=async e=>{let t=e.target.files?.[0];if(t){if(!t.type.startsWith("image/"))return void f("Only image files are allowed");if(t.size>5242880)return void f("Image size must be less than 5MB");try{let e=await w(t);v(e),y(URL.createObjectURL(t)),f(null)}catch(e){console.error("Error processing image:",e),f("Failed to process image")}e.target.value=""}},w=e=>new Promise((t,r)=>{let a=new FileReader;a.readAsDataURL(e),a.onload=e=>{let a=new window.Image;a.src=e.target?.result,a.onload=()=>{let e=document.createElement("canvas"),s=a.width,o=a.height;s>o&&s>800?(o=800*o/s,s=800):o>800&&(s=800*s/o,o=800),e.width=s,e.height=o;let n=e.getContext("2d");n?(n.imageSmoothingEnabled=!0,n.imageSmoothingQuality="high",n.drawImage(a,0,0,s,o),t(e.toDataURL("image/jpeg",.95))):r(Error("Failed to get canvas context"))},a.onerror=()=>r(Error("Failed to load image"))},a.onerror=()=>r(Error("Failed to read file"))});async function I(t){t.preventDefault(),h(!0),f(null);let r=new FormData(t.currentTarget),a=r.get("categories").split(",").map(e=>e.trim()).filter(e=>e.length>0),s={name:r.get("name"),description:r.get("description"),contactEmail:r.get("contactEmail"),contactPhone:r.get("contactPhone"),upiId:r.get("upiId"),paymentInformation:r.get("paymentInformation"),logo:b||void 0,categories:a.length>0?a:["PRODUCT"]};try{let t=await fetch(`${x}/vendors/me`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)}),r=await t.json();if(!t.ok||!r.success)throw Error(r.message||"Failed to create vendor");e.push(`/vendor/${r.data.id}`)}catch(e){console.error("Error creating vendor:",e),"Failed to fetch"===e.message||"TypeError"===e.name?f(`Cannot connect to backend server at ${x}. Please ensure the backend is running.`):f(e.message||"Failed to create vendor")}finally{h(!1)}}return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-soft",children:(0,t.jsxs)("main",{className:"container mx-auto px-6 py-12 max-w-3xl",children:[(0,t.jsx)(r.Button,{asChild:!0,variant:"ghost",className:"mb-8 rounded-2xl",children:(0,t.jsxs)(n.default,{href:"/dashboard",children:[(0,t.jsx)(i.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Go back"]})}),(0,t.jsxs)("div",{className:"glass-card rounded-3xl p-10 shadow-soft border-0",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-3xl font-light mb-2 text-foreground",children:"Create New Vendor"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Set up your business on Ashoka Marketplace"})]}),g&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:(0,t.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:g})}),(0,t.jsxs)("form",{onSubmit:I,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"name",className:"text-sm font-medium text-foreground",children:"Vendor Name *"}),(0,t.jsx)(a.Input,{id:"name",name:"name",placeholder:"e.g., Tech Store",required:!0,maxLength:100,className:"rounded-xl border-border focus:border-ring"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Choose a unique name for your business"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"description",className:"text-sm font-medium text-foreground",children:"Description *"}),(0,t.jsx)(o.Textarea,{id:"description",name:"description",placeholder:"Describe your business...",rows:4,required:!0,maxLength:500,className:"rounded-xl border-border focus:border-ring resize-none"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tell customers what makes your business special"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"contactEmail",className:"text-sm font-medium text-foreground",children:"Contact Email *"}),(0,t.jsx)(a.Input,{id:"contactEmail",name:"contactEmail",type:"email",placeholder:"contact@ashoka.edu.in",required:!0,className:"rounded-xl border-border focus:border-ring"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email address for customer inquiries"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"contactPhone",className:"text-sm font-medium text-foreground",children:"Contact Phone *"}),(0,t.jsx)(a.Input,{id:"contactPhone",name:"contactPhone",type:"tel",placeholder:"+1234567890",required:!0,className:"rounded-xl border-border focus:border-ring"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Phone number for customer support"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"upiId",className:"text-sm font-medium text-foreground",children:"UPI ID *"}),(0,t.jsx)(a.Input,{id:"upiId",name:"upiId",type:"text",placeholder:"UPI ID",required:!0,className:"rounded-xl border-border focus:border-ring"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"UPI ID for payment processing"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"paymentInformation",className:"text-sm font-medium text-foreground",children:"Payment Information *"}),(0,t.jsx)(o.Textarea,{id:"paymentInformation",name:"paymentInformation",placeholder:"Payment information...",rows:4,required:!0,maxLength:500,className:"rounded-xl border-border focus:border-ring resize-none"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Payment information for processing payments"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{className:"text-sm font-medium text-foreground",children:"Vendor Logo"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Upload a logo for your vendor (optional, max 5MB)"}),j?(0,t.jsxs)("div",{className:"relative w-32 h-32 rounded-xl overflow-hidden border-2 border-border group",children:[(0,t.jsx)(u.default,{src:j,alt:"Logo preview",fill:!0,className:"object-cover"}),(0,t.jsx)("button",{type:"button",onClick:()=>{v(""),y("")},className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(l.X,{className:"h-4 w-4"})})]}):(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(a.Input,{type:"file",accept:"image/*",onChange:N,className:"rounded-xl",id:"logo-upload"}),(0,t.jsxs)(r.Button,{type:"button",variant:"outline",onClick:()=>document.getElementById("logo-upload")?.click(),className:"rounded-xl",children:[(0,t.jsx)(d.Upload,{className:"h-4 w-4 mr-2"}),"Upload"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"categories",className:"text-sm font-medium text-foreground",children:"Categories"}),(0,t.jsx)(a.Input,{id:"categories",name:"categories",defaultValue:"PRODUCT",placeholder:"e.g., PRODUCT, SERVICE",className:"rounded-xl border-border focus:border-ring"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Comma-separated values (PRODUCT, SERVICE, etc.)"})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)(r.Button,{type:"button",variant:"ghost",asChild:!0,className:"flex-1 rounded-2xl glass-light",children:(0,t.jsx)(n.default,{href:"/dashboard",children:"Cancel"})}),(0,t.jsx)(r.Button,{type:"submit",disabled:p,className:"flex-1 rounded-2xl bg-black hover:bg-gray-900 text-white",children:p?"Creating...":"Create Vendor"})]})]})]})]})})}e.s(["default",()=>p])}]);