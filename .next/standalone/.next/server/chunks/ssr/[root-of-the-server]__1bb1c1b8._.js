module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},19637,a=>{"use strict";var b=a.i(7997),c=a.i(89246),d=a.i(96942),e=a.i(39138);let f=(0,d.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},18563,a=>{"use strict";let b=(0,a.i(1269).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);a.s(["ShoppingBag",()=>b],18563)},78898,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ListingCard() from the server but ListingCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/listing-card.tsx <module evaluation>","ListingCard");a.s(["ListingCard",0,b])},46418,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ListingCard() from the server but ListingCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/listing-card.tsx","ListingCard");a.s(["ListingCard",0,b])},90020,a=>{"use strict";a.i(78898);var b=a.i(46418);a.n(b)},78891,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call MarketplaceFilters() from the server but MarketplaceFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/marketplace-filters.tsx <module evaluation>","MarketplaceFilters");a.s(["MarketplaceFilters",0,b])},84362,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call MarketplaceFilters() from the server but MarketplaceFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/marketplace-filters.tsx","MarketplaceFilters");a.s(["MarketplaceFilters",0,b])},98921,a=>{"use strict";a.i(78891);var b=a.i(84362);a.n(b)},90925,a=>{"use strict";var b=a.i(7997),c=a.i(38904),d=a.i(19637),e=a.i(95936),f=a.i(18563),g=a.i(1269);let h=(0,g.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),i=(0,g.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),j=(0,g.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var k=a.i(90020),l=a.i(98921),m=a.i(5246);let n=process.env.BACKEND_URL||"http://localhost:4000";async function o({searchParams:a}){let g=await a,o=parseInt(g.page||"1"),p=parseInt(g.limit||"12"),q=(await (0,m.cookies)()).toString(),r=[],s={total:0,page:1,limit:12,totalPages:0},t=null;try{let a=new URLSearchParams;a.set("page",o.toString()),a.set("limit",p.toString()),g.search&&a.set("search",g.search),g.type&&a.set("type",g.type),g.tags&&a.set("tags",g.tags),g.sort&&a.set("sort",g.sort);let b=await fetch(`${n}/listings?${a.toString()}`,{cache:"no-store",headers:{Cookie:q}});if(b.ok){let a=await b.json();a.success&&a.data&&a.data.data&&(r=a.data.data||[],s=a.data.meta||s)}else t="Failed to fetch listings"}catch(a){console.error("Error fetching listings:",a),t="Backend connection error"}let u=Array.from(new Set(r.flatMap(a=>a.tags?.map(a=>a.name)||[]))),v=g.tags?g.tags.split(","):[];return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-soft",children:(0,b.jsxs)("main",{className:"container mx-auto px-4 sm:px-6 py-8 sm:py-12",children:[(0,b.jsxs)("div",{className:"mb-8 sm:mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl sm:text-5xl font-light mb-4 text-foreground",children:"Discover"}),(0,b.jsx)("p",{className:"text-lg text-muted-foreground",children:"Browse products and services from the Ashoka community"})]}),(0,b.jsx)(l.MarketplaceFilters,{currentParams:g,allTags:u}),(g.search||g.type||v.length>0)&&(0,b.jsxs)("div",{className:"mb-6 flex flex-wrap items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),g.search&&(0,b.jsxs)(d.Badge,{variant:"secondary",className:"rounded-full",children:["Search: ",g.search,(0,b.jsx)(e.default,{href:"/marketplace",className:"ml-1",children:(0,b.jsx)(h,{className:"h-3 w-3"})})]}),g.type&&(0,b.jsxs)(d.Badge,{variant:"secondary",className:"rounded-full",children:[g.type,(0,b.jsx)(e.default,{href:`/marketplace?${new URLSearchParams({...g,type:""}).toString()}`,className:"ml-1",children:(0,b.jsx)(h,{className:"h-3 w-3"})})]}),v.map(a=>(0,b.jsxs)(d.Badge,{variant:"secondary",className:"rounded-full",children:[a,(0,b.jsx)(e.default,{href:`/marketplace?${new URLSearchParams({...g,tags:v.filter(b=>b!==a).join(",")}).toString()}`,className:"ml-1",children:(0,b.jsx)(h,{className:"h-3 w-3"})})]},a))]}),(0,b.jsxs)("div",{className:"mb-6 text-sm text-muted-foreground",children:["Showing ",r.length," of ",s.total," results"]}),t&&(0,b.jsxs)("div",{className:"glass-card rounded-3xl p-8 text-center shadow-soft mb-8",children:[(0,b.jsxs)("p",{className:"text-red-500 mb-2",children:["⚠️ ",t]}),(0,b.jsxs)("p",{className:"text-muted-foreground text-sm",children:["Please check if the backend server is running at ",n]})]}),0!==r.length||t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:r.map(a=>(0,b.jsx)(k.ListingCard,{listing:a},a.id))}),s.totalPages>1&&(0,b.jsxs)("div",{className:"mt-12 flex items-center justify-center gap-2",children:[(0,b.jsx)(c.Button,{asChild:!0,variant:"outline",className:"rounded-2xl",disabled:o<=1,children:(0,b.jsxs)(e.default,{href:`/marketplace?${new URLSearchParams({...g,page:(o-1).toString()}).toString()}`,children:[(0,b.jsx)(i,{className:"h-4 w-4 mr-2"}),"Previous"]})}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:Array.from({length:s.totalPages},(a,b)=>b+1).map(a=>1===a||a===s.totalPages||a>=o-1&&a<=o+1?(0,b.jsx)(c.Button,{asChild:!0,variant:a===o?"default":"outline",className:"rounded-2xl w-10 h-10",children:(0,b.jsx)(e.default,{href:`/marketplace?${new URLSearchParams({...g,page:a.toString()}).toString()}`,children:a})},a):a===o-2||a===o+2?(0,b.jsx)("span",{className:"text-muted-foreground",children:"..."},a):null)}),(0,b.jsx)(c.Button,{asChild:!0,variant:"outline",className:"rounded-2xl",disabled:o>=s.totalPages,children:(0,b.jsxs)(e.default,{href:`/marketplace?${new URLSearchParams({...g,page:(o+1).toString()}).toString()}`,children:["Next",(0,b.jsx)(j,{className:"h-4 w-4 ml-2"})]})})]})]}):(0,b.jsxs)("div",{className:"glass-card rounded-3xl p-12 text-center shadow-soft",children:[(0,b.jsx)(f.ShoppingBag,{className:"h-16 w-16 text-gray-300 mb-4 mx-auto"}),(0,b.jsx)("h3",{className:"text-2xl font-light mb-2 text-foreground",children:"No listings found"}),(0,b.jsx)("p",{className:"text-muted-foreground/80",children:"Try adjusting your search or filters"})]})]})})}a.s(["default",()=>o],90925)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1bb1c1b8._.js.map