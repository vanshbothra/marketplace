module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},29246,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},66718,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(68114);function g({className:a,...c}){return(0,b.jsx)(e,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>g],70430)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},73320,a=>{"use strict";let b=(0,a.i(70106).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);a.s(["Upload",()=>b],73320)},80726,a=>{"use strict";var b=a.i(87924),c=a.i(99570),d=a.i(66718),e=a.i(70430),f=a.i(29246),g=a.i(38246),h=a.i(210),i=a.i(73320),j=a.i(33508),k=a.i(50944),l=a.i(72131),m=a.i(71987);let n="https://ashokamarketplace.tech/backend";function o(){let a=(0,k.useRouter)(),[o,p]=(0,l.useState)(!1),[q,r]=(0,l.useState)(null),[s,t]=(0,l.useState)(""),[u,v]=(0,l.useState)(""),w=async a=>{let b=a.target.files?.[0];if(b){if(!b.type.startsWith("image/"))return void r("Only image files are allowed");if(b.size>5242880)return void r("Image size must be less than 5MB");try{let a=await x(b);t(a),v(URL.createObjectURL(b)),r(null)}catch(a){console.error("Error processing image:",a),r("Failed to process image")}a.target.value=""}},x=a=>new Promise((b,c)=>{let d=new FileReader;d.readAsDataURL(a),d.onload=a=>{let d=new window.Image;d.src=a.target?.result,d.onload=()=>{let a=document.createElement("canvas"),e=d.width,f=d.height;e>f&&e>800?(f=800*f/e,e=800):f>800&&(e=800*e/f,f=800),a.width=e,a.height=f;let g=a.getContext("2d");g?(g.imageSmoothingEnabled=!0,g.imageSmoothingQuality="high",g.drawImage(d,0,0,e,f),b(a.toDataURL("image/jpeg",.95))):c(Error("Failed to get canvas context"))},d.onerror=()=>c(Error("Failed to load image"))},d.onerror=()=>c(Error("Failed to read file"))});async function y(b){b.preventDefault(),p(!0),r(null);let c=new FormData(b.currentTarget),d=c.get("categories").split(",").map(a=>a.trim()).filter(a=>a.length>0),e={name:c.get("name"),description:c.get("description"),contactEmail:c.get("contactEmail"),contactPhone:c.get("contactPhone"),upiId:c.get("upiId"),paymentInformation:c.get("paymentInformation"),logo:s||void 0,categories:d.length>0?d:["PRODUCT"]};try{let b=await fetch(`${n}/vendors/me`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),c=await b.json();if(!b.ok||!c.success)throw Error(c.message||"Failed to create vendor");a.push(`/vendor/${c.data.id}`)}catch(a){console.error("Error creating vendor:",a),"Failed to fetch"===a.message||"TypeError"===a.name?r(`Cannot connect to backend server at ${n}. Please ensure the backend is running.`):r(a.message||"Failed to create vendor")}finally{p(!1)}}return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-soft",children:(0,b.jsxs)("main",{className:"container mx-auto px-6 py-12 max-w-3xl",children:[(0,b.jsx)(c.Button,{asChild:!0,variant:"ghost",className:"mb-8 rounded-2xl",children:(0,b.jsxs)(g.default,{href:"/dashboard",children:[(0,b.jsx)(h.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Go back"]})}),(0,b.jsxs)("div",{className:"glass-card rounded-3xl p-10 shadow-soft border-0",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-3xl font-light mb-2 text-foreground",children:"Create New Vendor"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Set up your business on Ashoka Marketplace"})]}),q&&(0,b.jsx)("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:(0,b.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:q})}),(0,b.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(e.Label,{htmlFor:"name",className:"text-sm font-medium text-foreground",children:"Vendor Name *"}),(0,b.jsx)(d.Input,{id:"name",name:"name",placeholder:"e.g., Tech Store",required:!0,maxLength:100,className:"rounded-xl border-border focus:border-ring"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Choose a unique name for your business"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(e.Label,{htmlFor:"description",className:"text-sm font-medium text-foreground",children:"Description *"}),(0,b.jsx)(f.Textarea,{id:"description",name:"description",placeholder:"Describe your business...",rows:4,required:!0,maxLength:500,className:"rounded-xl border-border focus:border-ring resize-none"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tell customers what makes your business special"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(e.Label,{htmlFor:"contactEmail",className:"text-sm font-medium text-foreground",children:"Contact Email *"}),(0,b.jsx)(d.Input,{id:"contactEmail",name:"contactEmail",type:"email",placeholder:"contact@ashoka.edu.in",required:!0,className:"rounded-xl border-border focus:border-ring"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email address for customer inquiries"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(e.Label,{htmlFor:"contactPhone",className:"text-sm font-medium text-foreground",children:"Contact Phone *"}),(0,b.jsx)(d.Input,{id:"contactPhone",name:"contactPhone",type:"tel",placeholder:"+1234567890",required:!0,className:"rounded-xl border-border focus:border-ring"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Phone number for customer support"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(e.Label,{htmlFor:"upiId",className:"text-sm font-medium text-foreground",children:"UPI ID *"}),(0,b.jsx)(d.Input,{id:"upiId",name:"upiId",type:"text",placeholder:"UPI ID",required:!0,className:"rounded-xl border-border focus:border-ring"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"UPI ID for payment processing"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(e.Label,{htmlFor:"paymentInformation",className:"text-sm font-medium text-foreground",children:"Payment Information *"}),(0,b.jsx)(f.Textarea,{id:"paymentInformation",name:"paymentInformation",placeholder:"Payment information...",rows:4,required:!0,maxLength:500,className:"rounded-xl border-border focus:border-ring resize-none"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Payment information for processing payments"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(e.Label,{className:"text-sm font-medium text-foreground",children:"Vendor Logo"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Upload a logo for your vendor (optional, max 5MB)"}),u?(0,b.jsxs)("div",{className:"relative w-32 h-32 rounded-xl overflow-hidden border-2 border-border group",children:[(0,b.jsx)(m.default,{src:u,alt:"Logo preview",fill:!0,className:"object-cover"}),(0,b.jsx)("button",{type:"button",onClick:()=>{t(""),v("")},className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)(j.X,{className:"h-4 w-4"})})]}):(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(d.Input,{type:"file",accept:"image/*",onChange:w,className:"rounded-xl",id:"logo-upload"}),(0,b.jsxs)(c.Button,{type:"button",variant:"outline",onClick:()=>document.getElementById("logo-upload")?.click(),className:"rounded-xl",children:[(0,b.jsx)(i.Upload,{className:"h-4 w-4 mr-2"}),"Upload"]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(e.Label,{htmlFor:"categories",className:"text-sm font-medium text-foreground",children:"Categories"}),(0,b.jsx)(d.Input,{id:"categories",name:"categories",defaultValue:"PRODUCT",placeholder:"e.g., PRODUCT, SERVICE",className:"rounded-xl border-border focus:border-ring"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Comma-separated values (PRODUCT, SERVICE, etc.)"})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)(c.Button,{type:"button",variant:"ghost",asChild:!0,className:"flex-1 rounded-2xl glass-light",children:(0,b.jsx)(g.default,{href:"/dashboard",children:"Cancel"})}),(0,b.jsx)(c.Button,{type:"submit",disabled:o,className:"flex-1 rounded-2xl bg-black hover:bg-gray-900 text-white",children:o?"Creating...":"Create Vendor"})]})]})]})]})})}a.s(["default",()=>o])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__dcb8fcd9._.js.map